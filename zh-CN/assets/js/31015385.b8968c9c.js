"use strict";(self.webpackChunkapache_streampark_website=self.webpackChunkapache_streampark_website||[]).push([[8455],{94372:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>d,toc:()=>i});var s=e(86070),l=e(76113);const r={id:"upgrades",title:"\u5347\u7ea7\u66f4\u65b0",sidebar_position:5},a=void 0,d={id:"get-started/upgrades",title:"\u5347\u7ea7\u66f4\u65b0",description:"1.\u4e0b\u8f7d\u5b89\u88c5\u5305",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/get-started/5.upgrades.md",sourceDirName:"get-started",slug:"/get-started/upgrades",permalink:"/zh-CN/docs/get-started/upgrades",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/streampark-website/edit/dev/i18n/zh-CN/docusaurus-plugin-content-docs/current/get-started/5.upgrades.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"upgrades",title:"\u5347\u7ea7\u66f4\u65b0",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"\u5b89\u88c5\u90e8\u7f72\uff08Docker\uff09",permalink:"/zh-CN/docs/get-started/installation-docker"},next:{title:"\u62a5\u8b66\u914d\u7f6e",permalink:"/zh-CN/docs/platform/alert"}},c={},i=[{value:"1.\u4e0b\u8f7d\u5b89\u88c5\u5305",id:"1\u4e0b\u8f7d\u5b89\u88c5\u5305",level:2},{value:"2.\u6267\u884c\u5347\u7ea7\u811a\u672c",id:"2\u6267\u884c\u5347\u7ea7\u811a\u672c",level:2},{value:"3.\u4fee\u6539\u914d\u7f6e",id:"3\u4fee\u6539\u914d\u7f6e",level:2}];function o(t){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"1\u4e0b\u8f7d\u5b89\u88c5\u5305",children:"1.\u4e0b\u8f7d\u5b89\u88c5\u5305"}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u9700\u8981\u5347\u7ea7 StreamPark \u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u4ece\u5b98\u7f51\u4e0b\u8f7d\u6700\u65b0\u7248\u7684\u5b89\u88c5\u5305\uff0c\u4f8b\u5982\u4e0b\u8f7d\u7684\u662f ",(0,s.jsx)("u",{children:(0,s.jsx)("font",{color:"blue",children:(0,s.jsx)(n.a,{href:"https://www.apache.org/dyn/closer.lua/incubator/streampark/2.1.5/apache-streampark_2.12-2.1.5-incubating-bin.tar.gz?action=download",children:"2.1.5\u7248\u672c"})})}),"\uff0c\u4e0b\u8f7d\u5730\u5740\uff1a",(0,s.jsx)("u",{children:(0,s.jsx)("font",{color:"blue",children:(0,s.jsx)(n.a,{href:"https://streampark.apache.org/download/",children:"https://streampark.apache.org/download"})})})]}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u89e3\u538b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# \u89e3\u538b streampark \u5b89\u88c5\u5305.\ntar -zxvf apache-streampark_2.12-2.1.5-incubating-bin.tar.gz\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230\u89e3\u538b\u540e\u7684\u76ee\u5f55\u5982\u4e0b\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-textmate",children:"\u251c\u2500\u2500 bin\n\u2502    \u251c\u2500\u2500 startup.sh \t\t\t\t\t\t\t                        //\u542f\u52a8\u811a\u672c\n\u2502    \u251c\u2500\u2500 shutdown.sh \t\t\t\t\t\t                            //\u505c\u6b62\u811a\u672c\n\u2502    \u2514\u2500\u2500 ......\n\u251c\u2500\u2500 conf\n\u2502    \u251c\u2500\u2500 config.yaml \t\t\t\t\t\t                            //\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\n\u2502    \u2514\u2500\u2500 logback-spring.xml \t\t\t\t                            //\u65e5\u5fd7\u914d\u7f6e\u6587\u4ef6\n\u251c\u2500\u2500 lib\n\u2502    \u2514\u2500\u2500 *.jar \t\t\t\t\t\t\t\t                            //\u9879\u76ee\u7684 jar \u5305\n\u251c\u2500\u2500 logs \t\t\t\t\t\t\t\t\t                            //\u7a0b\u5e8f log \u76ee\u5f55\n\u251c\u2500\u2500 script\n\u2502    \u251c\u2500\u2500 data\n\u2502    \u2502   \u251c\u2500\u2500 mysql-data.sql \t\t\t\t\t                        // mysql\u7684ddl\u5efa\u8868sql\n\u2502    \u2502   \u2514\u2500\u2500 pgsql-data.sql \t\t\t\t\t                        // pgsql\u7684ddl\u5efa\u8868sql\n\u2502    \u251c\u2500\u2500 schema\n\u2502    \u2502   \u251c\u2500\u2500 mysql-schema.sql \t\t\t\t                            // mysql\u7684\u5b8c\u6574\u521d\u59cb\u5316\u6570\u636e\n\u2502    \u2502   \u2514\u2500\u2500 pgsql-schema.sql \t\t\t\t                            // pgsql\u7684\u5b8c\u6574\u521d\u59cb\u5316\u6570\u636e\n\u2502    \u2514\u2500\u2500 upgrade\n\u2502        \u251c\u2500\u2500 mysql\n\u2502        \u2502   \u251c\u2500\u2500 1.2.3.sql \t\t\t\t\t                            //\u5347\u7ea7\u5230 1.2.3\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql    \n\u2502        \u2502   \u251c\u2500\u2500 2.0.0.sql \t\t\t\t\t                            //\u5347\u7ea7\u5230 2.0.0\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql \n\u2502        \u2502   \u251c\u2500\u2500 2.1.0.sql                                              //\u5347\u7ea7\u5230 2.1.0\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql \n\u2502        \u2502   \u251c\u2500\u2500 2.1.2.sql                                              //\u5347\u7ea7\u5230 2.1.2\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2502   \u251c\u2500\u2500 2.1.3.sql                                              //\u5347\u7ea7\u5230 2.1.3\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2502   \u251c\u2500\u2500 2.1.4.sql                                              //\u5347\u7ea7\u5230 2.1.4\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2502   \u2514\u2500\u2500 2.1.5.sql                                              //\u5347\u7ea7\u5230 2.1.5\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2514\u2500\u2500 pgsql\n\u2502         \u2514\u2500\u2500 ......\n\u2514\u2500\u2500 temp \t\t\t\t\t\t\t\t\t                            //\u5185\u90e8\u4f7f\u7528\u5230\u7684\u4e34\u65f6\u8def\u5f84\uff0c\u4e0d\u8981\u5220\u9664\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\u5907\u6ce8",type:"note",children:(0,s.jsxs)(n.p,{children:["\u53ef\u4ee5\u770b\u5230\u5347\u7ea7\u811a\u672c\u5728 ",(0,s.jsx)(n.code,{children:"script/upgrade"})," \u6587\u4ef6\u5939\u4e0b\u3002"]})}),"\n",(0,s.jsx)(n.h2,{id:"2\u6267\u884c\u5347\u7ea7\u811a\u672c",children:"2.\u6267\u884c\u5347\u7ea7\u811a\u672c"}),"\n",(0,s.jsxs)(n.p,{children:["\u4ece\u4e0a\u8ff0\u7684\u5b89\u88c5\u5305\u89e3\u538b\u540e\u7684 ",(0,s.jsx)(n.code,{children:"script/upgrade"})," \u8def\u5f84\u4e0b\u53ef\u4ee5\u770b\u5230\uff0c\u5206\u4e3a\u4e86 mysql \u548c pgsql \u4e24\u79cd\u6570\u636e\u6e90\u7684\u811a\u672c\u5347\u7ea7\u76ee\u5f55\uff0c\u76ee\u5f55\u4e0b\u6709\u591a\u4e2a\u5347\u7ea7\u811a\u672c\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"......\n\n\u251c\u2500\u2500 script\n\u2502    \u251c\u2500\u2500 data\n\u2502    \u2502   \u251c\u2500\u2500 mysql-data.sql \t\t\t\t\t                        // mysql\u7684ddl\u5efa\u8868sql\n\u2502    \u2502   \u2514\u2500\u2500 pgsql-data.sql \t\t\t\t\t                        // pgsql\u7684ddl\u5efa\u8868sql\n\u2502    \u251c\u2500\u2500 schema\n\u2502    \u2502   \u251c\u2500\u2500 mysql-schema.sql \t\t\t\t                            // mysql\u7684\u5b8c\u6574\u521d\u59cb\u5316\u6570\u636e\n\u2502    \u2502   \u2514\u2500\u2500 pgsql-schema.sql \t\t\t\t                            // pgsql\u7684\u5b8c\u6574\u521d\u59cb\u5316\u6570\u636e\n\u2502    \u2514\u2500\u2500 upgrade\n\u2502        \u251c\u2500\u2500 mysql\n\u2502        \u2502   \u251c\u2500\u2500 1.2.3.sql \t\t\t\t\t                            //\u5347\u7ea7\u5230 1.2.3\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql    \n\u2502        \u2502   \u251c\u2500\u2500 2.0.0.sql \t\t\t\t\t                            //\u5347\u7ea7\u5230 2.0.0\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql \n\u2502        \u2502   \u251c\u2500\u2500 2.1.0.sql                                              //\u5347\u7ea7\u5230 2.1.0\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql \n\u2502        \u2502   \u251c\u2500\u2500 2.1.2.sql                                              //\u5347\u7ea7\u5230 2.1.2\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2502   \u251c\u2500\u2500 2.1.3.sql                                              //\u5347\u7ea7\u5230 2.1.3\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2502   \u251c\u2500\u2500 2.1.4.sql                                              //\u5347\u7ea7\u5230 2.1.4\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2502   \u2514\u2500\u2500 2.1.5.sql                                              //\u5347\u7ea7\u5230 2.1.5\u7248\u672c\u9700\u8981\u6267\u884c\u7684\u5347\u7ea7sql\n\u2502        \u2514\u2500\u2500 pgsql\n\u2502         \u2514\u2500\u2500 ......\n\n......\n"})}),"\n",(0,s.jsx)(n.admonition,{title:"\u6ce8\u610f",type:"caution",children:(0,s.jsx)(n.p,{children:"\u8fd9\u4e9b\u811a\u672c\u90fd\u9700\u8981\u6839\u636e\u5347\u7ea7\u524d\u7684\u7248\u672c\u6765\u6309\u987a\u5e8f\u4f9d\u6b21\u6267\u884c"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f8b\u5982\u7a0b\u5e8f\u4f7f\u7528\u5916\u90e8\u7684\u6570\u636e\u5e93\u4e3aMySQL\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\xb7 \u5f53\u524d\u7684\u7248\u672c\u4e3a\uff1a",(0,s.jsx)(n.code,{children:"2.1.2"}),"\uff0c\u5219\u9700\u8981\u4f9d\u6b21\u6267\u884c ",(0,s.jsx)(n.code,{children:"2.1.3.sql"})," \u2192 ",(0,s.jsx)(n.code,{children:"2.1.4.sql"})," \u2192 ",(0,s.jsx)(n.code,{children:"2.1.5.sql"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["\xb7 \u5f53\u524d\u7684\u7248\u672c\u4e3a\uff1a",(0,s.jsx)(n.code,{children:"2.1.3"}),"\uff0c\u5219\u9700\u8981\u4f9d\u6b21\u6267\u884c ",(0,s.jsx)(n.code,{children:"2.1.4.sql"})," \u2192 ",(0,s.jsx)(n.code,{children:"2.1.5.sql"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["\xb7 \u5f53\u524d\u7684\u7248\u672c\u4e3a\uff1a",(0,s.jsx)(n.code,{children:"2.1.4"}),"\uff0c\u5219\u9700\u8981\u6267\u884c ",(0,s.jsx)(n.code,{children:"2.1.5.sql"}),";"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"3\u4fee\u6539\u914d\u7f6e",children:"3.\u4fee\u6539\u914d\u7f6e"}),"\n",(0,s.jsx)(n.p,{children:"\u53ea\u9700\u8981\u4fdd\u8bc1\u6700\u65b0\u7684\u914d\u7f6e\u6587\u4ef6\uff08`/conf/config.yaml\uff09\u4e0e\u5386\u53f2\u914d\u7f6e\u4e00\u81f4\u5373\u53ef\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"......\n\n\u251c\u2500\u2500 conf\n\u2502    \u251c\u2500\u2500 config.yaml \t\t\t\t\t\t                            //\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\n\n......\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6700\u540e\u542f\u52a8\u7a0b\u5e8f\u5373\u53ef\u5b8c\u6210\u5347\u7ea7\u66f4\u65b0\u64cd\u4f5c~"})]})}function p(t={}){const{wrapper:n}={...(0,l.R)(),...t.components};return n?(0,s.jsx)(n,{...t,children:(0,s.jsx)(o,{...t})}):o(t)}},76113:(t,n,e)=>{e.d(n,{R:()=>a,x:()=>d});var s=e(30758);const l={},r=s.createContext(l);function a(t){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof t?t(n):{...n,...t}}),[n,t])}function d(t){let n;return n=t.disableParentContext?"function"==typeof t.components?t.components(l):t.components||l:a(t.components),s.createElement(r.Provider,{value:n},t.children)}}}]);